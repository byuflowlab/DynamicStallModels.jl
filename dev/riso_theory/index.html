<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Risø Theory · DynamicStallModels.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DynamicStallModels.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../riso_example/">Risø Model</a></li><li><a class="tocitem" href="../beddoesleishman_example/">Beddoes-Leishman</a></li></ul></li><li><span class="tocitem">Developers</span><ul><li><a class="tocitem" href="../codeoutline/">Code Outline</a></li><li class="is-active"><a class="tocitem" href>Risø Theory</a><ul class="internal"><li><a class="tocitem" href="#State-Rate-Equations"><span>State Rate Equations</span></a></li><li><a class="tocitem" href="#Equations-for-the-Coefficients"><span>Equations for the Coefficients</span></a></li></ul></li><li><a class="tocitem" href="../beddoesleishman_theory/">Beddoes-Leishman Theory</a></li></ul></li><li><a class="tocitem" href="../apireference/">API Reference</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developers</a></li><li class="is-active"><a href>Risø Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Risø Theory</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/DynamicStallModels.jl/blob/master/docs/src/riso_theory.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Risø-Theory"><a class="docs-heading-anchor" href="#Risø-Theory">Risø Theory</a><a id="Risø-Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Risø-Theory" title="Permalink"></a></h1><p>The Risø model<span>$^2$</span> is a simplified version of the Beddoes-Leishman model, designed specifically for wind turbines.</p><p>It has four states. The four states are:</p><table><tr><th style="text-align: center">Variable</th><th style="text-align: center">Name</th><th style="text-align: center">Comments</th></tr><tr><td style="text-align: center"><span>$x_1$</span></td><td style="text-align: center"></td><td style="text-align: center">Using Theodorsen theory, we can come up with two ODEs to describe the change in the wake.</td></tr><tr><td style="text-align: center"><span>$x_2$</span></td><td style="text-align: center"></td><td style="text-align: center">The first state and second state model these changes. One is for high frequency changes while the other is for low frequency changes.</td></tr><tr><td style="text-align: center"><span>$x_3 = C_L^{p&#39;}$</span></td><td style="text-align: center">Delayed coefficient of lift due to pressure. Delayed unsteady attached lift coefficient.</td><td style="text-align: center">A simple time lag (first order lag) between the pressure field and the lift.</td></tr><tr><td style="text-align: center"><span>$x_4 = f&#39;&#39;$</span></td><td style="text-align: center">Delayed seperation point? Unsteady seperation point.</td><td style="text-align: center">This should range (0,1).</td></tr></table><h2 id="State-Rate-Equations"><a class="docs-heading-anchor" href="#State-Rate-Equations">State Rate Equations</a><a id="State-Rate-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#State-Rate-Equations" title="Permalink"></a></h2><p class="math-container">\[\begin{aligned}
\dot{x}_1 = - \frac{x_1}{T_u}\left(b_1 + \frac{c\dot{U}}{2U^2}\right) + \frac{b_1A_1 \alpha_{3/4}}{T_u} \\
\dot{x}_2 = - \frac{x_2}{T_u}\left(b_2 + \frac{c\dot{U}}{2U^2}\right) + \frac{b_2A_2 \alpha_{3/4}}{T_u} \\
\dot{x}_3 = - \frac{x_3}{T_p} + \frac{1}{T_p}\left(\frac{\partial C_l}{\partial \alpha}(\alpha_E - \alpha_0) + \pi T_u \dot{\alpha} \right) \\
\dot{x}_4 = - \frac{x_4}{T_f} = \frac{1}{T_f}f^{st}\left(\alpha_f\right)
\end{aligned}\]</p><p>where <span>$x_i$</span> are the states of the model, <span>$T_x$</span> are time constants, <span>$A_i$</span> and <span>$b_i$</span> are airfoil specific constants describing the response of the airfoil, <span>$U$</span> is the freestream velocity, <span>$\alpha_{3/4}$</span> is the angle of attack the three-quarter point, <span>$\frac{\partial C_l}{\partial \alpha}$</span> is the slope of the static lift curve in the linear region, <span>$\alpha_E$</span> is the equivalent angle of attack, <span>$f^{st}$</span> is the seperation point function, and <span>$\alpha_f$</span> is the delayed angle of attack (this is something that I made up to make the notation a little clearer. ). </p><p>A couple of notes: first, <span>$T_u$</span> is calculated, whereas the other two time constants are specific for the airfoil (although several authors have said that they are pretty constant from airfoil to airfoil... but at the same time, those authors give different values for the time constant than the other authors... so it seems pretty arbitrary). Second, variables with a dot above it (<span>$\dot{U}$</span> for instance) indicate the derivative with respect to time. Third, recognize that <span>$U$</span> and <span>$\alpha$</span> are both functions of time. Fourth, I just use the angle of attack for <span>$\alpha_{3/4}$</span>... which appears to work, but Hansen&#39;s paper specifically seperates from the geometric angle of attack.</p><p>Now I&#39;m going to dive into a bunch of the functions. </p><h5 id="First-Time-Constant"><a class="docs-heading-anchor" href="#First-Time-Constant">First Time Constant</a><a id="First-Time-Constant-1"></a><a class="docs-heading-anchor-permalink" href="#First-Time-Constant" title="Permalink"></a></h5><p class="math-container">\[T_u = \frac{c}{2U}\]</p><p>where <span>$c$</span> is the chord, and <span>$U$</span> is the freestream velocity. Since <span>$U$</span> is a function of time, then this time constant isn&#39;t really constant...</p><h5 id="Lift-Curve-Slope"><a class="docs-heading-anchor" href="#Lift-Curve-Slope">Lift Curve Slope</a><a id="Lift-Curve-Slope-1"></a><a class="docs-heading-anchor-permalink" href="#Lift-Curve-Slope" title="Permalink"></a></h5><p>Hansen gives an equation for <span>$\frac{\partial C_l}{\partial \alpha}$</span>, which makes it so that <span>$f^{st}$</span> never goes over 1.... which is just a max equation... but I feel like it is a lame excuse and it is more accurate if you use a value that matches the majority of the linear region. I feel like there should be a better way to define <span>$f^{st}$</span> so it never goes over 1, and plays nicely with optimization. At the same time he says: &quot;However, in cases where lift curves are provided directly from measurements, or CFD computations, it can be necessary to use linear regression to determine a linear lift curve in a range of lower angles of attack with fully attached flow.&quot; DG has said several times that it is fairly common to choose constants that recreate the static lift curve. </p><p class="math-container">\[\frac{\partial C_l}{\partial \alpha} = \text{max}\left(\frac{C_l^{st}(\alpha)}{(\alpha - \alpha_0)}\right)\]</p><p>where <span>$C_l^{st}$</span> is the lift from the static lift curve, and <span>$\alpha_0$</span> is the zero lift angle of attack. You&#39;ll frequently see <span>$\frac{\partial C_l}{\partial \alpha}\left(\alpha - \alpha_0\right)$</span>, which is just the inviscid lift. Note that in his paper, Hansen denotes the linear lift curve slope as <span>$C_{L,\alpha}$</span>. </p><h5 id="Equivalent-Angle-of-Attack"><a class="docs-heading-anchor" href="#Equivalent-Angle-of-Attack">Equivalent Angle of Attack</a><a id="Equivalent-Angle-of-Attack-1"></a><a class="docs-heading-anchor-permalink" href="#Equivalent-Angle-of-Attack" title="Permalink"></a></h5><p class="math-container">\[\alpha_E = \alpha_{3/4}(1 - A_1 - A_2) + x_1 + x_2\]</p><p>It&#39;s an equivalent angle of attack. Basically from what I understand is it is a weighting of what we expect the angle of attack to be from the geometric angle of attack and what the wake currently looks like.</p><h5 id="Seperation-Point-Function"><a class="docs-heading-anchor" href="#Seperation-Point-Function">Seperation Point Function</a><a id="Seperation-Point-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Seperation-Point-Function" title="Permalink"></a></h5><p>Here is a function that gives me a little bit of problem:</p><p class="math-container">\[f^{st}(\alpha) = \left(2 \sqrt{\frac{C_l^{st}}{C_l^i}} -1\right)^2\]</p><p>where <span>$C_l^i$</span> is the inviscid lift coefficient. The inviscid lift coefficent, as previously mentioned, is simply: <span>$C_l^i(\alpha) = \frac{\partial C_l}{\partial \alpha} (\alpha - \alpha_0)$</span>. However, the value of this should always be on the range (0,1). It should be equal to 1 when the flow is fully attached (in the linear region), and 0 when the angle of attack is outside the angles of full seperation. Hansen defines the angles of full seperation as when the static lift is one-fourth the value of the inviscid lift:</p><p class="math-container">\[|C_l^{st}(\alpha^{\pm fs})| = \left|\frac{\partial C_l}{\partial \alpha}\frac{(\alpha^{\pm fs} - \alpha_0)}{4}\right|\]</p><p>What I currently have implemented for the seperation pooint function is: </p><p class="math-container">\[f^{st}(\alpha)=\begin{cases}
          0 \quad &amp;\text{if } \, \alpha&lt;\alpha^{-fs} ~||~ \alpha&gt;\alpha^{+fs} \\
          1 \quad &amp;\text{if } \, f^{st} &gt; 1 ~ || ~ f^{st} = \text{NaN} \\
          \left(2 \sqrt{\frac{C_l^{st}}{C_l^i}} -1\right)^2 \quad &amp; \text{else}
     \end{cases}\]</p><p>Which isn&#39;t my favorite. But it works. </p><h5 id="Other-Time-Constants"><a class="docs-heading-anchor" href="#Other-Time-Constants">Other Time Constants</a><a id="Other-Time-Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Time-Constants" title="Permalink"></a></h5><p class="math-container">\[T_f\]</p><p>describes the time lag in the boundary layer. </p><h2 id="Equations-for-the-Coefficients"><a class="docs-heading-anchor" href="#Equations-for-the-Coefficients">Equations for the Coefficients</a><a id="Equations-for-the-Coefficients-1"></a><a class="docs-heading-anchor-permalink" href="#Equations-for-the-Coefficients" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../codeoutline/">« Code Outline</a><a class="docs-footer-nextpage" href="../beddoesleishman_theory/">Beddoes-Leishman Theory »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 30 January 2023 20:36">Monday 30 January 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
