<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Beddoes-Leishman Theory · DynamicStallModels.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DynamicStallModels.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../riso_example/">Risø Model</a></li></ul></li><li><span class="tocitem">Developers</span><ul><li><a class="tocitem" href="../codeoutline/">Code Outline</a></li><li><a class="tocitem" href="../riso_theory/">Risø Theory</a></li><li class="is-active"><a class="tocitem" href>Beddoes-Leishman Theory</a><ul class="internal"><li><a class="tocitem" href="#State-Rate-Equations"><span>State Rate Equations</span></a></li><li><a class="tocitem" href="#Indicial-Formulation-(Original)"><span>Indicial Formulation (Original)</span></a></li><li><a class="tocitem" href="#Indicial-Formulation-(AeroDyn)sup3/sup"><span>Indicial Formulation (AeroDyn)&lt;sup&gt;3&lt;/sup&gt;</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../apireference/">API Reference</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developers</a></li><li class="is-active"><a href>Beddoes-Leishman Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Beddoes-Leishman Theory</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/DynamicStallModels.jl/blob/master/docs/src/beddoesleishman_theory.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Beddoes-Leishman-Theory"><a class="docs-heading-anchor" href="#Beddoes-Leishman-Theory">Beddoes-Leishman Theory</a><a id="Beddoes-Leishman-Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Beddoes-Leishman-Theory" title="Permalink"></a></h1><h2 id="State-Rate-Equations"><a class="docs-heading-anchor" href="#State-Rate-Equations">State Rate Equations</a><a id="State-Rate-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#State-Rate-Equations" title="Permalink"></a></h2><h4 id="Equations"><a class="docs-heading-anchor" href="#Equations">Equations</a><a id="Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Equations" title="Permalink"></a></h4><ol><li>reduced linear lift coefficient - high frequency (or low, don&#39;t know which) (EQ 13)</li></ol>$<p>\dot{c}<em>1 + \omega</em>1 c<em>1(t) = A</em>1 \dot{C}_{L0}(t) $</p><ol><li>reduced linear lift coefficient - low frequency (EQ 13)</li></ol>$<p>\dot{c}<em>2 + \omega</em>2 c<em>2(t) = A</em>2 \dot{C}_{L0}(t) $</p><ol><li>impulsive contributions diminishing in time due to wave propagation. (EQ A.2)</li></ol>$<p>\dot{c}<em>3 + \omega</em>5 c<em>3(t) = \frac{4}{M}A</em>3\dot{\alpha} $</p><ol><li>&#39;&#39;   &#39;&#39;   &#39;&#39;   &#39;&#39;   &#39;&#39;   &#39;&#39;   &#39;&#39;  (EQ A.2)</li></ol>$<p>\dot{c}<em>4 + \omega</em>6 c<em>4(t) = \frac{1}{M}A</em>4\frac{c}{V}\ddot{\alpha} $</p><ol><li>The retarded linear lift <span>$C&#39;_{L0,d}(t)$</span>​​  is introduced as a delayed state variable of the linear lift <span>$C_{L0,d}(t)$</span>​​​, which gives a one-to-one correspondence between the pressure coefficient and the dynamic lift at changing pitch rates (EQ A.3)</li></ol>$<p>\dot{C}&#39;<em>{L0,d}(t) = -\omega</em>7\bigg(C&#39;<em>{L0,d}(t) - C</em>{L0,d}(t)\bigg) $</p><p>Which when you plug everything in, then you get a  different equation: (EQ A.5) $ \dot{C}&#39;<em>{L0,d}(t) = \omega</em>7\bigg(-c<em>1(t) - c</em>2(t) + c<em>3(t) + c</em>4(t) - C&#39;<em>{L0,d}(t) + C</em>{L0}(\alpha)\bigg) $</p><ol><li>dynamic attachment degree (EQ 16)</li></ol>$<p>\dot{f}<em>d = - \omega</em>3 \bigg(f_d(t)-f(\alpha)\bigg) $</p><ol><li>Leading edge vortex contribution (EQ 22)</li></ol>$<p>\dot{C}<em>{L,v}(t) + \omega</em>4 C<em>{L,v}(t) =  \begin{cases} \Delta \dot{C}</em>L(t) \quad \textrm{for} \quad \tau &lt; 1 \hspace{3pt} \textrm{and} \hspace{3pt} \dot{\alpha}&gt;0 \
0 \hspace{38pt} \textrm{otherwise} \end{cases} $</p><ol><li>Time Constant** (EQ 21)</li></ol>$<p>\dot{\tau} =  \begin{cases} \frac{V}{3c} \quad \textrm{for} \quad \alpha&gt;\alpha_v,\
0 \quad \textrm{otherwise} \end{cases} $</p><p>** This state variable was not included in the original formulation, however, they included a time constant <span>$\tau$</span> that was the position of the leading edge vortex, and it moves with a speed of <span>$\dot{\tau}$</span>​​, so I figured, I&#39;d make it a state variable that was really simple. Let the solver manage that information. I don&#39;t think that I could write something to manage it better. </p><h2 id="Indicial-Formulation-(Original)"><a class="docs-heading-anchor" href="#Indicial-Formulation-(Original)">Indicial Formulation (Original)</a><a id="Indicial-Formulation-(Original)-1"></a><a class="docs-heading-anchor-permalink" href="#Indicial-Formulation-(Original)" title="Permalink"></a></h2><h2 id="Indicial-Formulation-(AeroDyn)sup3/sup"><a class="docs-heading-anchor" href="#Indicial-Formulation-(AeroDyn)sup3/sup">Indicial Formulation (AeroDyn)&lt;sup&gt;3&lt;/sup&gt;</a><a id="Indicial-Formulation-(AeroDyn)sup3/sup-1"></a><a class="docs-heading-anchor-permalink" href="#Indicial-Formulation-(AeroDyn)sup3/sup" title="Permalink"></a></h2><p>AeroDyn has it&#39;s own implementation of the Beddoes-Leishman model, with several variations here and there. The method is presented here. Frequently the method is presented in a way that makes sense theoretically, here however, we will present the method in the order that the functions are calculated. </p><p>==I need to list the states that this uses.==</p><h4 id="States"><a class="docs-heading-anchor" href="#States">States</a><a id="States-1"></a><a class="docs-heading-anchor-permalink" href="#States" title="Permalink"></a></h4><p>AeroDyn lists a set of discrete states that are different from what a demarcated as the states from the original Beddoes-Leishman model. These states make sense when you consider simulation, as you need this information from step to step. </p><table><tr><th style="text-align: center">Variable</th><th style="text-align: center">Name</th><th style="text-align: center">Comments</th></tr><tr><td style="text-align: center"><span>$\alpha$</span></td><td style="text-align: center">Angle of Attack  (AOA)</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$\alpha_{lp}$</span></td><td style="text-align: center">Low-pass-filtered AOA</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$\alpha_{f}$</span></td><td style="text-align: center">Delayed effective Angle of Incidence (AOI)</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$q$</span></td><td style="text-align: center">Pitch rate</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$X_1$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$X_2$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$X_3$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$X_4$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$K&#39;_\alpha$</span></td><td style="text-align: center">Deficiency function for noncirulatory component of normal force based on angle of attack</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$K&#39;_q$</span></td><td style="text-align: center">Deficiency function for noncirulatory component of normal force based on pitching rate</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$K&#39;&#39;_q$</span></td><td style="text-align: center">Deficiency function for noncirulatory component of moment</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$K&#39;&#39;&#39;_q$</span></td><td style="text-align: center">Deficiency function for cirulatory component of moment</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$D_p$</span></td><td style="text-align: center">Deficiency function for cirulatory component of normal force</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$D_f$</span></td><td style="text-align: center">Deficiency function for the separation point</td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$D_{f_c}$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$C_n^{pot}$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$f&#39;$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$f&#39;_c$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$f&#39;&#39;$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$f&#39;&#39;_c$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$\tau_v$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$C_n^v$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$C_v$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr><tr><td style="text-align: center"><span>$D_{\alpha f}$</span></td><td style="text-align: center"></td><td style="text-align: center"></td></tr></table><h4 id="Logical-Flags"><a class="docs-heading-anchor" href="#Logical-Flags">Logical Flags</a><a id="Logical-Flags-1"></a><a class="docs-heading-anchor-permalink" href="#Logical-Flags" title="Permalink"></a></h4><pre><code class="language-julia hljs">if UAmod == 1
    # Closest model to the original Leishman-Beddoes formulation
elseif UAmod == 2
    # Modifications to the original model and simplifications following Gonzalex (2014)
        #= Equations
        1.58 -&gt; 1.60
        1.56 -&gt; 1.55b
        1.53 -&gt; 1.53b
        1.49 -&gt; 1.50
        1.41 -&gt; 1.45
        1.38 -&gt; 1.39
        add 1.16 to Ccnalphaq(s,M) Eq(1.13)
        =#
else #UAmod == 3
    # Modifications to the original model and simplifications following Pierce (1996) and Minnema (1998)
        #= Equations
        1.56 -&gt; 1.55
        1.58 -&gt; 1.59
        1.41 -&gt; 1.43-1.44
        Modify 1.30 with 1.31
        =#
end

if flookup # == true
    # EQ 1.33 gets replaced by lookup values for f&#39;n and f&#39;c. Note that if UAmod == 2 or 3, the flag is automatically set to true. 
end</code></pre><h4 id="Update-Discrete-States"><a class="docs-heading-anchor" href="#Update-Discrete-States">Update Discrete States</a><a id="Update-Discrete-States-1"></a><a class="docs-heading-anchor-permalink" href="#Update-Discrete-States" title="Permalink"></a></h4><ul><li><p>(1.11c) (Some time constant)</p><ul><li><p class="math-container">\[T_I = \frac{c}{a}\]</p></li></ul></li><li><p>(1.5b) Nondimensional distance</p><ul><li><p class="math-container">\[\Delta s = \frac{2}{c}U(t)\Delta t\]</p></li></ul></li><li><p>1.7 - 1.8</p><ul><li><p>(1.7) Nondimensional pitch rate</p><ul><li><p class="math-container">\[q = \frac{\dot{\alpha}c}{U} \approx \frac{K_{\alpha n}c}{c}\]</p></li><li><p class="math-container">\[K_{\alpha n} = \frac{ \alpha_n - \alpha_{n-1}}{\Delta t}\]</p></li></ul></li><li><p>(1.8) Applying a low pass filter to <span>$K_\alpha$</span>.</p><ul><li><p class="math-container">\[\alpha_{lp_n} = C_{lp}\alpha_{lp_{n-1}} + (1 - C_lp)\alpha_n\]</p>(low-pass-filtered <span>$\alpha$</span>)</li><li><p class="math-container">\[q_n = \frac{(\alpha_{lp_n} - \alpha_{lp_{n-1}})c}{U_n \Delta t}\]</p></li><li><p class="math-container">\[q_{lp_n} = C_{lp}q_{lp_{n-1}} + (1 - C_{lp})q_n\]</p>(low-pass-filtered <span>$q$</span>)</li><li><p class="math-container">\[K_{\alpha lp_n} = \frac{q_{lp_n}U_n}{\Delta t}\]</p>(modified value of <span>$K_\alpha$</span>)</li><li><p class="math-container">\[K_{q_n} = \frac{q_n - q_{n-1}}{\Delta t}\]</p>(backward finite difference of <span>$q$</span>)</li><li><p class="math-container">\[K_{qlp_n} = C_{lp}K_{q lp_{n-1}} + (1 - C_{lp})K_{q_n}\]</p>(low-pass-filtered <span>$k_q$</span>)</li><li><p class="math-container">\[C_{lp} = e^{-2\pi \Delta t \zeta_{lp}}\]</p>(low-pass-filter constant)</li><li><p class="math-container">\[\zeta_{lp}\]</p>typically - 3 dB (low-pass-frequency cutoff)</li></ul></li></ul></li></ul><p><strong>From here on the LP subscript is dropped with the understanding that quantities such as <span>$\alpha$</span>, <span>$K_\alpha$</span>, <span>$q$</span>, and <span>$K_q$</span> denote filtered quantities</strong>. </p><ul><li><p>1.11a (calculated solely at first time step)</p><ul><li><p class="math-container">\[k_\alpha(M) = \frac{1}{(1 - M) + C_{n\alpha}(M)M^2\beta_M(A_1b_1 +A_2b_2)}\]</p></li></ul></li><li><p>1.11b (calculated solely at first time step)</p><ul><li><p class="math-container">\[k_q(M) = \frac{1}{(1-M) + C_{n\alpha}(M)M^2\beta_M(A_1b_1 + A_2b_2)}\]</p></li></ul></li><li><p>1.10</p><ul><li><p class="math-container">\[T_\alpha(M) = 0.75 k_\alpha(M)T_I\]</p></li><li><p class="math-container">\[T_q(M) = 0.75 k_q(M)T_I\]</p></li></ul></li><li><p>1.37</p><ul><li><p class="math-container">\[T_f = \frac{T_{f0}}{\sigma_1}\]</p></li></ul></li><li><p>1.48</p><ul><li><p class="math-container">\[T_v = \frac{T_{v0}}{\sigma_3}\]</p></li></ul></li><li><p>1.18 (Noncirculatory component... (of Normal force?) due to changes in <span>$\alpha$</span>)</p><ul><li><p class="math-container">\[C_{n_\alpha}^{nc}(s,M) = \frac{4T_\alpha(M)}{M}(K_\alpha - K&#39;_\alpha)\]</p></li><li>(Deficiency function for <span>$C_{n_\alpha}^{nc}(s,M)$</span>) <ul><li><p class="math-container">\[K&#39;_{\alpha_n} = K&#39;_{\alpha_{n-1}} \text{exp}\left(-\frac{\Delta t}{T_\alpha(M)} \right) + (K_{\alpha_n} - K_{\alpha_{n-1}})\text{exp}\left(- \frac{\Delta t}{2T_\alpha(M)} \right)\]</p></li></ul></li></ul></li><li><p>1.19 (Noncirculatory component (of Normal force?) due to changes if <span>$q$</span>)</p><ul><li><p class="math-container">\[C_{n_q}^{nc}(s,M) = - \frac{T_q(M)}{M}(K_{q_n} - K&#39;_{q_n})\]</p></li><li><p class="math-container">\[K&#39;_{q_n} = K&#39;_{q_{n-1}}\text{exp}\left(- \frac{\Delta t}{T_q(M)} \right) + (K_{q_n} - K_{q_{n-1}})\text{exp}\left(- \frac{\Delta t}{2 T_q(M)} \right)\]</p></li></ul></li><li><p>1.17 (Noncirculatory component (of normal force?) via superposition)</p><ul><li><p class="math-container">\[C_{n_{\alpha q}}^{nc}(s, M) = C_{n_\alpha}^{nc}(s,M) + C_{n_q}^{nc}(s,M)\]</p><ul><li>Note that the equation is stating that these normal force components are functions of <span>$s$</span> and <span>$M$</span>. </li></ul></li></ul></li><li><p>1.15 (Update States 1 and 2)</p><ul><li>X_{1<em>n} = X</em>{1<em>{n-1}}\text{exp}(-b</em>1\beta<em>M^2\Delta s) + A</em>1 \text{exp}(-b<em>1\beta</em>M^2\Delta s/2)\Delta \alpha_n $</li><li>X_{2<em>n} = X</em>{2<em>{n-1}}\text{exp}(-b</em>2\beta<em>M^2\Delta s) + A</em>2 \text{exp}(-b<em>2\beta</em>M^2\Delta s/2)\Delta \alpha_n $</li></ul></li><li><p>1.14 (Effective angle of attack)</p><ul><li><p class="math-container">\[\alpha_{e_n}(s, M) = (\alpha_n - \alpha_0) - X_{1_n}(\Delta s) - X_{2_n}(\Delta S)\]</p><ul><li>I&#39;m assuming that the equation is saying that the two states are functions of <span>$\Delta s$</span>. </li></ul></li></ul></li><li><p>1.13 (Circulatory component (normal force?) by the lumped approach)</p><ul><li><p class="math-container">\[C_{n_{\alpha, q}}^C(s, M) = C_{n\alpha}^C(s,M)\alpha_e\]</p><ul><li>==I don&#39;t think <span>$C_{n\alpha}^C(s,M)$</span> has been defined.==</li><li>EQ 1.12 <span>$C_{n\alpha}^C(s,M) = \frac{C_{n\alpha}(M)}{\beta_M}$</span> </li></ul></li></ul></li><li><p>1.26 (<span>$A_5 = 1$</span> and <span>$b_5 = 5$</span>)</p><ul><li><p class="math-container">\[K&#39;&#39;&#39;_{q_n} = K&#39;&#39;&#39;_{q_{n-1}}\text{exp}\left(-b_5 \beta_M^2 \Delta s\right) + A_5\Delta q_n \text{exp}\left(- b_5 \beta_M^2 \Delta s/2 \right)\]</p></li></ul></li><li><p>1.25 (Circulatory component (moment?))</p><ul><li><p class="math-container">\[C_{m_q}^c(s, M) = - \frac{C_{n\alpha}(M)}{16\beta_M} (q - K&#39;&#39;&#39;_q)\frac{c}{U}\]</p></li></ul></li><li><p>1.20 (total normal force under attached conditions)</p><ul><li><p class="math-container">\[C_n^{pot} = C_{n_{\alpha,q}}^C(s,M) + C_{n_{\alpha,q}}^{nc}(s,M)\]</p></li><li>==In the equation (1.20) they appeared to have dropped a negative that appears in the second term. I&#39;ll need to pay attention to this.==</li></ul></li><li><p>1.29 (other noncirculatory component)</p><ul><li><p class="math-container">\[C_{m_q}^{nc}(s,M) = -\frac{7T_i}{12M}\left(k_{m,q}(M)\right)^2 (K_q - K&#39;&#39;_q)\]</p><ul><li><p class="math-container">\[k_{m,q}(M) = \frac{7}{15(1-M) + 1.5 C_{n\alpha}(M)A_5 b_5 \beta_M M^2}\]</p></li><li><p class="math-container">\[K&#39;&#39;_{q_n} = K&#39;&#39;_{q_{n-1}}\text{exp}\left(- \frac{\Delta t}{(k_{m,q}(M))^2 T_I} \right) + (K_{q_n} - K_{q_{n-1}})\text{exp}\left(- \frac{\Delta t}{(k_{m,q}(M))^2 T_I} \right)\]</p><ul><li>==Why are we calculating these portions of the moment?==</li></ul></li></ul></li></ul></li><li><p>1.21 (Chordwise force)</p><ul><li><p class="math-container">\[C_C^{pot} = C_n^{pot,c}\text{tan}(\alpha_e + \alpha_0)\]</p></li></ul></li><li><p>1.35 (Lagged Circulatory normal force (boundary layer response))</p><ul><li><p class="math-container">\[C&#39;_n = C_n^{pot} - D_p\]</p><ul><li>D_{p<em>n} = D</em>{p<em>{n-1}}\text{exp}\left(- \frac{\Delta s}{T</em>p}\right) + (C<em>{n</em>{n}}^{pot}-C<em>{n</em>{n-1}}^{pot}\text{exp}\left(-\frac{\Delta s}{2T_p}\right) $</li></ul></li></ul></li><li><p>1.34 (an effective AOI)</p><ul><li><p class="math-container">\[\alpha_f = \frac{C&#39;_n}{C_{n\alpha}^c(s,M)} + \alpha_0\]</p></li></ul></li><li><p>1.33 (TE Separation point distance (from LE in percentage chord))</p></li></ul><p class="math-container">\[ f = \begin{cases}
    1 - 0.3 \text{exp}\left(\frac{\alpha - \alpha_1}{S_1}\right) \text{ if } \alpha_0 \leq \alpha \leq \alpha_1 \\
    1 - 0.3 \text{exp}\left(\frac{\alpha_2 - \alpha}{S_3}\right) \text{ if } \alpha_2 \leq \alpha \leq \alpha_0 \\
    0.04 + 0.66\text{exp}\left(\frac{\alpha_1 - \alpha}{S_2}\right) \text{ if } \alpha &gt; \alpha _1 \\
    0.04 + 0.66 \text{exp}\left(\frac{\alpha - \alpha_2}{S_4}\right) \text{ if } \alpha &lt; \alpha_2
    \end{cases}\]</p><ul><li><ul><li><p class="math-container">\[S_1\]</p>and <span>$S_2$</span> are best-fit constants that define the abruptness of the static stall. </li><li><p class="math-container">\[\alpha_1\]</p>is the angle of attack @ <span>$f=0.7$</span> for <span>$\alpha\geq\alpha_0$</span>. </li><li><p class="math-container">\[\alpha_2\]</p>is the angle of attack @ <span>$f=0.7$</span> for <span>$\alpha&lt;\alpha_0$</span>. </li></ul></li><li><p>1.36 (f that accounts for delays in the boundary layer)</p><ul><li><p class="math-container">\[f&#39;&#39; = f&#39; - D_f\]</p><ul><li><p class="math-container">\[f&#39; = f(\alpha_f)\]</p><ul><li><p class="math-container">\[f&#39;\]</p>can be derived from a direct lookup table of static airfoil data reversing EQ 1.32. In fact, two values of <span>$f&#39;$</span> could be calculated: one for <span>$C_n(f&#39;_n)$</span> and one for <span>$C_c(f&#39;_c)$</span>. </li></ul></li><li><p class="math-container">\[D_{f_n} = D_{f_{n-1}} \text{exp}\left(- \frac{\Delta s}{T_f}\right) + (f&#39;_n - f&#39;_{n-1})\text{exp}\left(- \frac{\Delta s}{2T_f}\right)\]</p></li></ul></li></ul></li><li><p>1.38 <a href="Normal force coefficient after accounting for separated flow from TE">or 1.39</a></p><ul><li>(1.38) <span>$C_n^{fs} = C_{n_{\alpha,q}}^{nc}(s, M) + C_{n_{\alpha,q}}^{c}(s,M)\left(\frac{1 + \sqrt{f&#39;&#39;}}{2}\right)^2$</span></li><li>(1.39)<ul><li>Gonzalez (2014) correction. </li></ul></li></ul></li><li><p>1.49 <a href="normal force coefficient due to accumulated vorticity">or 1.50</a></p><ul><li>(1.49) <span>$C_V = C_{n\alpha}^c(s,M)\alpha_e\left(1 - \frac{1 + \sqrt{f&#39;&#39;}}{2}\right)^2$</span></li><li>(1.50)<ul><li>Gonzalez (2014) correction.</li></ul></li></ul></li><li><p>1.47 <a href="normal force coefficient contribution from the additional lift from LE vortex">or 1.52</a></p><ul><li>(1.47) <span>$C_{n_n}^v = C_{n_{n-1}}^v \text{exp}\left(- \frac{\Delta s}{T_v}\right) + (C_{V_n} - C_{V_{n-1}})\text{exp}\left(- \frac{\Delta s}{2T_v}\right)$</span><ul><li>Note that <span>$C_n^v$</span> is not allowed to have a sign opposite to that of <span>$C_n^{fs}$</span>. </li></ul></li><li>(1.52)<ul><li>some correction</li></ul></li></ul></li></ul><h4 id="Update-Other-States"><a class="docs-heading-anchor" href="#Update-Other-States">Update Other States</a><a id="Update-Other-States-1"></a><a class="docs-heading-anchor-permalink" href="#Update-Other-States" title="Permalink"></a></h4><h6 id="Leading-Edge-Separation"><a class="docs-heading-anchor" href="#Leading-Edge-Separation">Leading Edge Separation</a><a id="Leading-Edge-Separation-1"></a><a class="docs-heading-anchor-permalink" href="#Leading-Edge-Separation" title="Permalink"></a></h6><ul><li>if <span>$C&#39;_n &gt; C_{n1} \implies (C&#39;_n&lt;C_{n2}$</span> for <span>$\alpha&lt;\alpha_0)$</span> <ul><li><code>LESF = true #LE separation can occur</code></li></ul></li><li>else<ul><li><code>LESF = false #Reattacment can occur</code></li></ul></li><li>end</li></ul><h6 id="Trailing-Edge-Separation"><a class="docs-heading-anchor" href="#Trailing-Edge-Separation">Trailing Edge Separation</a><a id="Trailing-Edge-Separation-1"></a><a class="docs-heading-anchor-permalink" href="#Trailing-Edge-Separation" title="Permalink"></a></h6><ul><li>if <span>$f&#39;&#39;_t &lt; f&#39;&#39;_{t-1}$</span><ul><li><code>TESF = true #TE separation in progress</code></li></ul></li><li>else<ul><li><code>TESF = false #TE reattachment in progress</code></li></ul></li><li>end</li></ul><h6 id="Vortex-advection"><a class="docs-heading-anchor" href="#Vortex-advection">Vortex advection</a><a id="Vortex-advection-1"></a><a class="docs-heading-anchor-permalink" href="#Vortex-advection" title="Permalink"></a></h6><ul><li>if <span>$0&lt;\tau_v\leq 2T_{vl}$</span><ul><li><code>VRTX = true #Vortex advection in progress</code></li></ul></li><li>else<ul><li><code>VRTX = false #Vortex is in wake</code></li></ul></li><li>end</li></ul><h6 id="Vortex-Position-Reset"><a class="docs-heading-anchor" href="#Vortex-Position-Reset">Vortex Position Reset</a><a id="Vortex-Position-Reset-1"></a><a class="docs-heading-anchor-permalink" href="#Vortex-Position-Reset" title="Permalink"></a></h6><ul><li>if <span>$\tau_v \geq 1 + \frac{T_{sh}}{T_{vl}}$</span> and <code>LESF = true</code><ul><li><p class="math-container">\[\tau_v=0\]</p></li></ul></li><li>end</li></ul><h6 id="T_f-Modifications"><a class="docs-heading-anchor" href="#T_f-Modifications"><span>$T_f$</span> Modifications</a><a id="T_f-Modifications-1"></a><a class="docs-heading-anchor-permalink" href="#T_f-Modifications" title="Permalink"></a></h6><p>eq 1.37</p><p class="math-container">\[T_f = T_{f0}/\sigma_1 \]</p><p class="math-container">\[\sigma_1\]</p><p>is initilized at 1.  <span>$\Delta_{\alpha 0} = \alpha - \alpha_0$</span></p><pre><code class="language-julia hljs">if TESF == true #(Separation)
    if K_alpha Delta_alpha0 &lt; 0
        sigma_1 = 2 #(Accelerate separation point movement)
    else
        if LESF == false
            sigma_1 = 1 #(LE separation can occur)
        else
            if fpp_nm1 &lt;= 0.7 
                sigma_1 = 2 #(accelerate separation point movement if separation is occuring )
            else
                sigma_1 = 1.75
            end
        end
    end
else #(reattachment (`TESF==false`))
    if LESF == false
        sigma_1 = 0.5 #(Slow down reattachment)
    elseif VRTX == true  &amp;&amp; 0 &lt;= tau_v &lt;= Tvl
        sigma_1 = 0.25 #(No flow reattachment if vortex shedding is in progress)
    elseif K_alpha*Delta_alpha &gt; 0
        sigma_1 = 0.75
    end 
end</code></pre><p>Apparently Aerodyn uses a &quot;simpler&quot; version. </p><h6 id="T_v-Modifications"><a class="docs-heading-anchor" href="#T_v-Modifications"><span>$T_v$</span> Modifications</a><a id="T_v-Modifications-1"></a><a class="docs-heading-anchor-permalink" href="#T_v-Modifications" title="Permalink"></a></h6><pre><code class="language-julia hljs">simga3 = 1

if Tvl &lt;= Tau_v &lt;= 2*Tvl&gt;
    sigma3 = 3 #Postshedding
    if TESF== false
        sigma3 = 4 #Accelerate vortex lift decay
        if VRTX == true &amp;&amp; 0 &lt;= Tau_v &lt;= Tvl
            if K_alpha*Delta_alpha0 &lt; 0
                sigma3 = 2 #Accelerate vortex lift decay
            else
                sigma3 = 1 #default
            end
        end
    end
else
    if K_alpha*Delta_alpha0 &lt; 0
        sigma3 = 4 #vortex lift must decay fast
    end
end

if TESF == false &amp;&amp; K_q*Delta_alpha0 &lt; 0 #Note that it&#39;s Kq and not K_alpha
    sigma3 = 1 #Default
end
</code></pre><h4 id="Calculate-Output"><a class="docs-heading-anchor" href="#Calculate-Output">Calculate Output</a><a id="Calculate-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Calculate-Output" title="Permalink"></a></h4><p>==For the first time step, outputs are determined by static lookup tables==</p><p><strong>Same as Update Discrete States Plus</strong></p><ul><li>1.53 (Total normal force)<ul><li><p class="math-container">\[C_n = C_n^{fs} + C_n^v\]</p><ul><li>Does this somehow include a switch between separated flow and attached flow? Or do the components changed based on that? </li></ul></li></ul></li><li>1.55 (Chordwise Force)<ul><li><p class="math-container">\[C_c = C_c^{fs} + C_n^v \text{tan}(\alpha_e)\left(1 - \frac{\tau_v}{T_{vl}}\right)\]</p><ul><li>In the current release <span>$\text{tan}(\alpha_e)\approx \alpha_e$</span></li></ul></li></ul></li><li>1.2 (Lift and Drag)<ul><li><p class="math-container">\[C_l = C_n \cos(\alpha) + C_c\sin(\alpha)\]</p></li><li><p class="math-container">\[C_d = Cn\sin(\alpha) - C_c\cos(\alpha) + C_{d_0}\]</p></li></ul></li><li>1.58 or 1.59 (Minnema) or 1.60 (Gonzalez) (pitching moment)<ul><li>(1.58) <span>$C_m = C_{m0} - C_{n_{\alpha,q}}^c(s,M)(\hat{x}_{cp} - 0.25) + C_{m_q}^c(s,M) + C_{m_\alpha}^{nc}(s,M) + C_{m_q}^{nc}(s,M) + C_m^v$</span></li><li>(1.59)</li><li>(1.60)</li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../riso_theory/">« Risø Theory</a><a class="docs-footer-nextpage" href="../apireference/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Monday 22 August 2022 15:18">Monday 22 August 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
